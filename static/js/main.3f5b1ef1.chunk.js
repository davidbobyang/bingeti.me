(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},17:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(4),r=a.n(i),l=(a(17),a(5)),c=a(6),o=a(9),u=a(7),m=a(1),h=a(10),d=a(2),f=a.n(d),p=a(8),v=a.n(p),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={query:"",results:[],final_result:{},view:"home",final_string:"",trending:[]},a.handleQueryChange=a.handleQueryChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleClick=a.handleClick.bind(Object(m.a)(a)),a.handleBack=a.handleBack.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({view:"results"});var t="https://api.themoviedb.org/3/search/tv?page=1&language=en-US&api_key=5114cf314283a1d83f54f9684a701572&query=".concat(this.state.query);this.fetchSubmitData(t)}},{key:"handleQueryChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleBack",value:function(e){e.preventDefault(),0===this.state.results.length?this.setState({view:"home"}):this.setState({view:"results"})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a=e.currentTarget.value,n="https://api.themoviedb.org/3/tv/".concat(a,"?language=en-US&api_key=5114cf314283a1d83f54f9684a701572");fetch(n,{method:"GET"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){console.log(e);var a=e.number_of_episodes*e.episode_run_time[0],n=f.a.duration(a,"minutes"),s=n.days(),i=n.hours(),r=s?1===s?"1 day":s+" days":"",l=i?1===i?"1 hour":i+" hours":"",c=r&&l?" and ":"";t.setState({view:"final",final_string:r+c+l,final_result:e})}).catch(function(e){return console.log(e)})}},{key:"fetchSubmitData",value:function(e){var t=this;fetch(e,{method:"GET"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){var a=e.results;a=a.slice(0,5),t.setState({results:a}),console.log(e),console.log(t.state.results)}).catch(function(e){return console.log(e)})}},{key:"fetchTrendingData",value:function(){var e=this;fetch("https://api.themoviedb.org/3/trending/tv/week?api_key=5114cf314283a1d83f54f9684a701572",{method:"GET"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(t){var a=t.results;a=a.slice(0,5),e.setState({trending:a}),console.log(e.state.trending)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=[];if("final"===this.state.view?t.push(s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("input",{className:"search-bar two-icons",type:"text",value:this.state.query,onChange:this.handleQueryChange,autoComplete:"off",placeholder:"type in a tv show"}),s.a.createElement("button",{type:"submit",className:"submit search-button"},s.a.createElement("i",{className:"fas fa-search"})),s.a.createElement("button",{onClick:this.handleBack,className:"submit back-button"},s.a.createElement("i",{class:"fas fa-arrow-left"}))))):(t.push(s.a.createElement("div",{id:"logo-title"},s.a.createElement("a",{href:"http://davidy.me/bingetime/"},s.a.createElement("h1",null,"bingetime")),s.a.createElement("a",{href:"http://davidy.me/bingetime/"},s.a.createElement("img",{src:v.a,alt:"popcorn icon"})))),t.push(s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("input",{className:"search-bar one-icon",type:"text",value:this.state.query,onChange:this.handleQueryChange,autoComplete:"off",placeholder:"type in a tv show"}),s.a.createElement("button",{type:"submit",className:"submit"},s.a.createElement("i",{className:"fas fa-search"})))))),"final"===this.state.view){var a={backgroundImage:"url(https://image.tmdb.org/t/p/original".concat(this.state.final_result.backdrop_path,")"),backgroundSize:"cover",backgroundColor:"rgba(0,0,0,0.5)"},n="https://twitter.com/intent/tweet?text=".concat(this.state.final_result.name,"%20takes%20").concat(this.state.final_string,"%20to%20watch.%20Calculated%20at:%20http%3A%2F%2Fdavidy.me/bingetime%2F");return t.push(s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row final-result-row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"final-wrapper"},s.a.createElement("div",{className:"final-result"},this.state.final_result.name),s.a.createElement("p",{className:"final-result-info"},this.state.final_result.number_of_seasons,1===this.state.final_result.number_of_seasons?" season, ":" seasons, ",this.state.final_result.number_of_episodes,1===this.state.final_result.number_of_episodes?" episode":" episodes"),s.a.createElement("p",{className:"final-result-info"},"Ended"===this.state.final_result.status?"ended in ".concat(f()(this.state.final_result.last_air_date,"YYYY-MM-DD").format("MMMM YYYY")):"".concat(this.state.final_result.status.toLowerCase())),s.a.createElement("p",{className:"final-result-info"},"takes ",this.state.final_string," to watch"),s.a.createElement("div",{className:"share-icons"},s.a.createElement("a",{href:n},s.a.createElement("i",{class:"fab fa-twitter"})),s.a.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u=http://davidy.me/bingetime"},s.a.createElement("i",{class:"fab fa-facebook-f"})))))),s.a.createElement("div",{id:"output"}))),s.a.createElement("div",{className:"container-fluid",style:a},t)}return"results"===this.state.view&&t.push(s.a.createElement("div",{className:"results container"},this.state.results.map(function(t){return s.a.createElement("div",{className:"row result-row",key:t.id},s.a.createElement("div",{className:"col-xl-3 col-md-4 col-sm-12 result-col"},s.a.createElement("button",{onClick:e.handleClick,className:"result",value:t.id},s.a.createElement("img",{src:"https://image.tmdb.org/t/p/w154".concat(t.poster_path),alt:t.name}))),s.a.createElement("div",{className:"d-none d-md-block col-xl-9 col-md-8"},s.a.createElement("button",{onClick:e.handleClick,className:"result",value:t.id},t.name),s.a.createElement("p",{className:"result-aired"},"first aired: ",f()(t.first_air_date,"YYYY-MM-DD").format("MMMM YYYY")),s.a.createElement("p",{className:"result-overview"},t.overview)))}))),"home"===this.state.view&&(0===this.state.trending.length&&this.fetchTrendingData(),t.push(s.a.createElement("div",{className:"trending"},s.a.createElement("div",{className:"trending-title"},s.a.createElement("i",{class:"fas fa-fire fa-2x"}),s.a.createElement("h2",null,"trending"),s.a.createElement("i",{class:"fas fa-fire fa-2x"})),s.a.createElement("div",{className:"trending-shows"},this.state.trending.map(function(t){return s.a.createElement("button",{onClick:e.handleClick,className:"trending-show",value:t.id},t.name)}))))),s.a.createElement("div",{className:"container-fluid"},t)}}]),t}(s.a.Component);a(19);var g=function(){return s.a.createElement(b,{url:"/"})};r.a.render(s.a.createElement(g,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/popcorn.1e555263.png"}},[[11,1,2]]]);
//# sourceMappingURL=main.3f5b1ef1.chunk.js.map