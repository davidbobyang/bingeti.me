{"version":3,"sources":["Search.js","App.js","index.js","popcorn.png"],"names":["Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","query","results","final_result","final_view","final_string","handleQueryChange","bind","assertThisInitialized","handleSubmit","handleClick","handleBack","e","preventDefault","setState","url","concat","fetchSubmitData","target","value","_this2","id","currentTarget","fetch","method","then","response","ok","Error","statusText","json","data","console","log","sum","number_of_episodes","episode_run_time","time","moment","duration","days","hours","days_string","hours_string","and_string","catch","error","_this3","temp","slice","_this4","html","push","react_default","a","createElement","src","popcorn","alt","onSubmit","className","onClick","class","type","onChange","autoComplete","placeholder","row_style","backgroundImage","backdrop_path","backgroundSize","backgroundColor","name","number_of_seasons","status","last_air_date","format","toLowerCase","style","map","result","key","poster_path","first_air_date","overview","React","Component","App","src_Search","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.029b4944.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport popcorn from './popcorn.png';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      results: [],\n      final_result: {},\n      final_view: false,\n      final_string: '',\n    };\n\n    this.handleQueryChange = this.handleQueryChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      final_view: false,\n    });\n    const url = `https://api.themoviedb.org/3/search/tv?page=1&language=en-US&api_key=5114cf314283a1d83f54f9684a701572&query=${this.state.query}`;\n    this.fetchSubmitData(url);\n  }\n\n  handleQueryChange(e) {\n    this.setState({ query: e.target.value });\n  }\n\n  handleBack(e) {\n    e.preventDefault();\n    this.setState({\n      final_view: false\n    });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let id = e.currentTarget.value;\n    let url = `https://api.themoviedb.org/3/tv/${id}?language=en-US&api_key=5114cf314283a1d83f54f9684a701572`;\n    fetch(url, { method: 'GET' })\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        let sum = data.number_of_episodes * data.episode_run_time[0];\n        let time = moment.duration(sum, \"minutes\");\n        // let total_hours = console.log(time.asHours());\n        let days = time.days();\n        let hours = time.hours();\n        let days_string = (days ? (days === 1 ? \"1 day\" : days + \" days\") : \"\");\n        let hours_string = (hours ? (hours === 1 ? \"1 hour\" : hours + \" hours\") : \"\");\n        let and_string = days_string && hours_string ? \" and \" : \"\";\n\n        this.setState({\n          final_view: true,\n          final_string: days_string + and_string + hours_string,\n          final_result: data,\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  fetchSubmitData(url) {\n    fetch(url, { method: 'GET' })\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((data) => {\n        let temp = data.results;\n        temp = temp.slice(0, 5);\n        this.setState({\n          results: temp,\n        });\n        console.log(data);\n        console.log(this.state.results);\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    let html = [];\n    if (!this.state.final_view) {\n      html.push(\n        <div id=\"logo-title\">\n          <h1>bingetime</h1>\n          <img src={popcorn} alt=\"popcorn icon\"></img>\n        </div>\n      );\n    }\n\n    if (this.state.final_view) {\n      html.push(\n        <form onSubmit={this.handleSubmit}>\n        <div className=\"box\">\n          <button onClick={this.handleBack} className=\"submit back-button\"><i class=\"fas fa-arrow-left\"></i></button>\n          <input className=\"search-bar two-icons\" type=\"text\" value={this.state.query}\n            onChange={this.handleQueryChange} autoComplete=\"off\" placeholder=\"type in a tv show\" />\n          <button type=\"submit\" className=\"submit search-button\"><i className=\"fas fa-search\"></i></button>\n        </div>\n      </form>\n      )\n    }\n    else {\n      html.push(\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"box\">\n            <input className=\"search-bar one-icon\" type=\"text\" value={this.state.query}\n              onChange={this.handleQueryChange} autoComplete=\"off\" placeholder=\"type in a tv show\" />\n            <button type=\"submit\" className=\"submit\"><i className=\"fas fa-search\"></i></button>\n          </div>\n        </form>\n      );\n    }\n\n    if (this.state.final_view) {\n      const row_style = {\n        backgroundImage: `url(https://image.tmdb.org/t/p/original${this.state.final_result.backdrop_path})`,\n        backgroundSize: 'cover',\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      };\n      html.push(\n        <div className=\"container\">\n          <div className=\"row final-result-row\">\n            <div className=\"col-12\">\n              <div className=\"final-wrapper\">\n                <div className=\"final-result\">\n                  {this.state.final_result.name}\n                </div>\n                <p className=\"final-result-info\">\n                  {this.state.final_result.number_of_seasons}\n                  {this.state.final_result.number_of_seasons === 1 ? \" season, \" : \" seasons, \"}\n                  {this.state.final_result.number_of_episodes}\n                  {this.state.final_result.number_of_episodes === 1 ? \" episode\" : \" episodes\"}\n                </p>\n                <p className=\"final-result-info\">\n                  {\n                    this.state.final_result.status === \"Ended\" ?\n                      `ended in ${moment(this.state.final_result.last_air_date, \"YYYY-MM-DD\").format(\"MMMM YYYY\")}` :\n                      `${this.state.final_result.status.toLowerCase()}`\n                  }\n                </p>\n                <p className=\"final-result-info\">takes {this.state.final_string} to watch</p>\n              </div>\n            </div>\n          </div>\n          <div id=\"output\"></div>\n        </div>\n      );\n      return (<div className=\"container-fluid\" style={row_style}>{html}</div>);\n    }\n    html.push(\n      <div className=\"results container\">\n        {this.state.results.map(result => (\n          <div className=\"row result-row\" key={result.id}>\n            <div className=\"col-xl-3 col-md-4 col-sm-12 result-col\">\n              <button onClick={this.handleClick} className=\"result\" value={result.id}>\n                <img src={`https://image.tmdb.org/t/p/w154${result.poster_path}`} alt={result.name}></img>\n              </button>\n            </div>\n            <div className=\"d-none d-md-block col-xl-9 col-md-8\">\n              <button onClick={this.handleClick} className=\"result\" value={result.id}>\n                {result.name}\n              </button>\n              <p className=\"result-aired\">first aired: {moment(result.first_air_date, \"YYYY-MM-DD\").format(\"MMMM YYYY\")}</p>\n              <p className=\"result-overview\">{result.overview}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n    return (<div className=\"container-fluid\">{html}</div>);\n  }\n}\n\nexport default Search;","import React from 'react';\n\nimport Search from './Search';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Search url=\"/\" />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/popcorn.1e555263.png\";"],"sourceRoot":""}