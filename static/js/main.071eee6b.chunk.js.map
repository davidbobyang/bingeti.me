{"version":3,"sources":["Search.js","App.js","index.js","popcorn.png"],"names":["Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","query","results","final_result","final_view","final_string","handleQueryChange","bind","assertThisInitialized","handleSubmit","handleClick","e","preventDefault","setState","url","concat","fetchSubmitData","target","value","_this2","id","currentTarget","fetch","method","then","response","ok","Error","statusText","json","data","console","log","sum","number_of_episodes","episode_run_time","time","moment","duration","days","hours","days_string","hours_string","and_string","catch","error","_this3","temp","slice","_this4","html","push","react_default","a","createElement","src","popcorn","alt","onSubmit","className","type","onChange","autoComplete","placeholder","row_style","backgroundImage","backdrop_path","backgroundSize","backgroundColor","name","number_of_seasons","status","last_air_date","format","toLowerCase","style","map","result","key","onClick","poster_path","first_air_date","overview","React","Component","App","src_Search","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.071eee6b.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport popcorn from './popcorn.png';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      results: [],\n      final_result: {},\n      final_view: false,\n      final_string: '',\n    };\n\n    this.handleQueryChange = this.handleQueryChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      final_view: false,\n    });\n    const url = `https://api.themoviedb.org/3/search/tv?page=1&language=en-US&api_key=5114cf314283a1d83f54f9684a701572&query=${this.state.query}`;\n    this.fetchSubmitData(url);\n  }\n\n  handleQueryChange(e) {\n    this.setState({ query: e.target.value });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let id = e.currentTarget.value;\n    let url = `https://api.themoviedb.org/3/tv/${id}?language=en-US&api_key=5114cf314283a1d83f54f9684a701572`;\n    fetch(url, { method: 'GET' })\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        let sum = data.number_of_episodes * data.episode_run_time[0];\n        let time = moment.duration(sum, \"minutes\");\n        // let total_hours = console.log(time.asHours());\n        let days = time.days();\n        let hours = time.hours();\n        let days_string = (days ? (days === 1 ? \"1 day\" : days + \" days\") : \"\");\n        let hours_string = (hours ? (hours === 1 ? \"1 hour\" : hours + \" hours\") : \"\");\n        let and_string = days_string && hours_string ? \" and \" : \"\";\n\n        this.setState({\n          final_view: true,\n          final_string: days_string + and_string + hours_string,\n          final_result: data,\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  fetchSubmitData(url) {\n    fetch(url, { method: 'GET' })\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((data) => {\n        let temp = data.results;\n        temp = temp.slice(0, 5);\n        this.setState({\n          results: temp,\n        });\n        console.log(data);\n        console.log(this.state.results);\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    let html = [];\n    if (!this.state.final_view) {\n      html.push(\n        <div id=\"logo-title\">\n          <h1>bingetime</h1>\n          <img src={popcorn} alt=\"popcorn icon\"></img>\n        </div>\n      );\n    }\n    html.push(\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"box\">\n          <input id=\"search-bar\" type=\"text\" value={this.state.query}\n            onChange={this.handleQueryChange} autoComplete=\"off\" placeholder=\"type in a tv show\" />\n          <button type=\"submit\" className=\"submit\"><i className=\"fas fa-search\"></i></button>\n        </div>\n      </form>\n    );\n\n    if (this.state.final_view) {\n      const row_style = {\n        backgroundImage: `url(https://image.tmdb.org/t/p/original${this.state.final_result.backdrop_path})`,\n        backgroundSize: 'cover',\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      };\n      html.push(\n        <div className=\"container\">\n          <div className=\"row final-result-row\">\n            <div className=\"col-12\">\n              <div className=\"final-wrapper\">\n                <div className=\"final-result\">\n                  {this.state.final_result.name}\n                </div>\n                <p className=\"final-result-info\">\n                  {this.state.final_result.number_of_seasons}\n                  {this.state.final_result.number_of_seasons === 1 ? \" season, \" : \" seasons, \"}\n                  {this.state.final_result.number_of_episodes}\n                  {this.state.final_result.number_of_episodes === 1 ? \" episode\" : \" episodes\"}\n                </p>\n                <p className=\"final-result-info\">\n                  {\n                    this.state.final_result.status === \"Ended\" ?\n                      `ended in ${moment(this.state.final_result.last_air_date, \"YYYY-MM-DD\").format(\"MMMM YYYY\")}` :\n                      `${this.state.final_result.status.toLowerCase()}`\n                  }\n                </p>\n                <p className=\"final-result-info\">takes {this.state.final_string} to watch</p>\n              </div>\n            </div>\n          </div>\n          <div id=\"output\"></div>\n        </div>\n      );\n      return (<div className=\"container-fluid\" style={row_style}>{html}</div>);\n    }\n    html.push(\n      <div className=\"results container\">\n        {this.state.results.map(result => (\n          <div className=\"row result-row\" key={result.id}>\n            <div className=\"col-xl-3 col-md-4 col-sm-12 result-col\">\n              <button onClick={this.handleClick} className=\"result\" value={result.id}>\n                <img src={`https://image.tmdb.org/t/p/w154${result.poster_path}`} alt={result.name}></img>\n              </button>\n            </div>\n            <div className=\"d-none d-md-block col-xl-9 col-md-8\">\n              <button onClick={this.handleClick} className=\"result\" value={result.id}>\n                {result.name}\n              </button>\n              <p className=\"result-aired\">first aired: {moment(result.first_air_date, \"YYYY-MM-DD\").format(\"MMMM YYYY\")}</p>\n              <p className=\"result-overview\">{result.overview}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n    return (<div className=\"container-fluid\">{html}</div>);\n  }\n}\n\nexport default Search;","import React from 'react';\n\nimport Search from './Search';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Search url=\"/\" />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/popcorn.1e555263.png\";"],"sourceRoot":""}