{"version":3,"sources":["Search.js","App.js","index.js","popcorn.png","arrow.png"],"names":["Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","query","results","final_result","final_view","final_string","handleQueryChange","bind","assertThisInitialized","handleSubmit","handleClick","handleBack","e","preventDefault","setState","url","concat","fetchSubmitData","target","value","_this2","id","currentTarget","fetch","method","then","response","ok","Error","statusText","json","data","console","log","sum","number_of_episodes","episode_run_time","time","moment","duration","days","hours","days_string","hours_string","and_string","catch","error","_this3","temp","slice","_this4","html","push","react_default","a","createElement","src","popcorn","alt","onSubmit","className","type","onChange","autoComplete","placeholder","onClick","backarrow","row_style","backgroundImage","backdrop_path","backgroundSize","backgroundColor","name","number_of_seasons","status","last_air_date","format","toLowerCase","style","map","result","key","poster_path","first_air_date","overview","React","Component","App","src_Search","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.6ea81519.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport popcorn from './popcorn.png';\nimport backarrow from './arrow.png';\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: '',\n      results: [],\n      final_result: {},\n      final_view: false,\n      final_string: '',\n    };\n\n    this.handleQueryChange = this.handleQueryChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleBack = this.handleBack.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      final_view: false,\n    });\n    const url = `https://api.themoviedb.org/3/search/tv?page=1&language=en-US&api_key=5114cf314283a1d83f54f9684a701572&query=${this.state.query}`;\n    this.fetchSubmitData(url);\n  }\n\n  handleQueryChange(e) {\n    this.setState({ query: e.target.value });\n  }\n\n  handleBack(e) {\n    e.preventDefault();\n    this.setState({\n      final_view: false\n    });\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let id = e.currentTarget.value;\n    let url = `https://api.themoviedb.org/3/tv/${id}?language=en-US&api_key=5114cf314283a1d83f54f9684a701572`;\n    fetch(url, { method: 'GET' })\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((data) => {\n        console.log(data);\n        let sum = data.number_of_episodes * data.episode_run_time[0];\n        let time = moment.duration(sum, \"minutes\");\n        // let total_hours = console.log(time.asHours());\n        let days = time.days();\n        let hours = time.hours();\n        let days_string = (days ? (days === 1 ? \"1 day\" : days + \" days\") : \"\");\n        let hours_string = (hours ? (hours === 1 ? \"1 hour\" : hours + \" hours\") : \"\");\n        let and_string = days_string && hours_string ? \" and \" : \"\";\n\n        this.setState({\n          final_view: true,\n          final_string: days_string + and_string + hours_string,\n          final_result: data,\n        });\n      })\n      .catch(error => console.log(error));\n  }\n\n  fetchSubmitData(url) {\n    fetch(url, { method: 'GET' })\n      .then((response) => {\n        if (!response.ok) throw Error(response.statusText);\n        return response.json();\n      })\n      .then((data) => {\n        let temp = data.results;\n        temp = temp.slice(0, 5);\n        this.setState({\n          results: temp,\n        });\n        console.log(data);\n        console.log(this.state.results);\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    let html = [];\n    if (!this.state.final_view) {\n      html.push(\n        <div id=\"logo-title\">\n          <h1>bingetime</h1>\n          <img src={popcorn} alt=\"popcorn icon\"></img>\n        </div>\n      );\n    }\n    html.push(\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"box\">\n          <input id=\"search-bar\" type=\"text\" value={this.state.query}\n            onChange={this.handleQueryChange} autoComplete=\"off\" placeholder=\"type in a tv show\" />\n          <button type=\"submit\" className=\"submit\"><i className=\"fas fa-search\"></i></button>\n        </div>\n      </form>\n    );\n\n    if (this.state.final_view) {\n      html.push(\n        <div className=\"back-button\">\n          <button onClick={this.handleBack}><img src={backarrow} alt=\"back arrow icon\"/></button>\n        </div>\n      )\n    }\n\n    if (this.state.final_view) {\n      const row_style = {\n        backgroundImage: `url(https://image.tmdb.org/t/p/original${this.state.final_result.backdrop_path})`,\n        backgroundSize: 'cover',\n        backgroundColor: 'rgba(0,0,0,0.5)'\n      };\n      html.push(\n        <div className=\"container\">\n          <div className=\"row final-result-row\">\n            <div className=\"col-12\">\n              <div className=\"final-wrapper\">\n                <div className=\"final-result\">\n                  {this.state.final_result.name}\n                </div>\n                <p className=\"final-result-info\">\n                  {this.state.final_result.number_of_seasons}\n                  {this.state.final_result.number_of_seasons === 1 ? \" season, \" : \" seasons, \"}\n                  {this.state.final_result.number_of_episodes}\n                  {this.state.final_result.number_of_episodes === 1 ? \" episode\" : \" episodes\"}\n                </p>\n                <p className=\"final-result-info\">\n                  {\n                    this.state.final_result.status === \"Ended\" ?\n                      `ended in ${moment(this.state.final_result.last_air_date, \"YYYY-MM-DD\").format(\"MMMM YYYY\")}` :\n                      `${this.state.final_result.status.toLowerCase()}`\n                  }\n                </p>\n                <p className=\"final-result-info\">takes {this.state.final_string} to watch</p>\n              </div>\n            </div>\n          </div>\n          <div id=\"output\"></div>\n        </div>\n      );\n      return (<div className=\"container-fluid\" style={row_style}>{html}</div>);\n    }\n    html.push(\n      <div className=\"results container\">\n        {this.state.results.map(result => (\n          <div className=\"row result-row\" key={result.id}>\n            <div className=\"col-xl-3 col-md-4 col-sm-12 result-col\">\n              <button onClick={this.handleClick} className=\"result\" value={result.id}>\n                <img src={`https://image.tmdb.org/t/p/w154${result.poster_path}`} alt={result.name}></img>\n              </button>\n            </div>\n            <div className=\"d-none d-md-block col-xl-9 col-md-8\">\n              <button onClick={this.handleClick} className=\"result\" value={result.id}>\n                {result.name}\n              </button>\n              <p className=\"result-aired\">first aired: {moment(result.first_air_date, \"YYYY-MM-DD\").format(\"MMMM YYYY\")}</p>\n              <p className=\"result-overview\">{result.overview}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n    return (<div className=\"container-fluid\">{html}</div>);\n  }\n}\n\nexport default Search;","import React from 'react';\n\nimport Search from './Search';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Search url=\"/\" />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/popcorn.1e555263.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}